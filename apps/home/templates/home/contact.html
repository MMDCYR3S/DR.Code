{% extends 'base.html' %}
{% load static %}

{% block title %}صفحه اصلی{% endblock title %}
{% block extra_css %}
<!-- قسمت css و حتی ایمپورت کردن فایل هات رو اینجا بزار -->

{% endblock extra_css %}

{% block content %}
<!-- محتوای صفحات اینجاست -->

<style type="text/tailwindcss">
     /* Gradient text */
     .gradient-text {
            background: linear-gradient(135deg, #0077b6 0%, #00b4d8 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        /* Form input styling */
        .form-input {
            @apply w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-c2 focus:ring-4 focus:ring-c2/20 transition-all duration-200 bg-gray-50 hover:bg-white;
        }
        
        /* Hover card effect */
        .hover-lift {
            transition: all 0.3s ease;
        }
        
        .hover-lift:hover {
            transform: translateY(-8px);
        }
         /* Custom animations */
         @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        
        @keyframes pulse-slow {
            0%, 100% { transform: scale(1); opacity: 0.3; }
            50% { transform: scale(1.05); opacity: 0.5; }
        }
        
        .float-animation {
            animation: float 6s ease-in-out infinite;
        }
        
        .pulse-animation {
            animation: pulse-slow 4s ease-in-out infinite;
        }
        
</style>

<div class="bg-gray-50 pt-10" x-data="contactForm()" >


   <!-- Hero Section -->
   <section class="py-16 bg-white relative overflow-hidden">
    <!-- Background Elements -->
    <div class="absolute inset-0">
        <div class="absolute top-0 left-0 w-96 h-96 bg-c4 rounded-full opacity-10 blur-3xl -translate-x-1/2 -translate-y-1/2"></div>
        <div class="absolute bottom-0 right-0 w-96 h-96 bg-c3 rounded-full opacity-10 blur-3xl translate-x-1/2 translate-y-1/2"></div>
    </div>
    
    <div class="container mx-auto px-4 lg:px-8 relative z-10">
        <div class="text-center max-w-3xl mx-auto">
            <!-- Icon -->
            <div class="w-32 h-32 bg-gradient-to-br from-c1 to-c2 rounded-full flex items-center justify-center mx-auto mb-8 float-animation" data-aos="fade-down">
                <svg class="w-16 h-16 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                </svg>
            </div>
            
            <!-- Title -->
            <h1 class="text-4xl lg:text-5xl font-bold text-gray-900 mb-6" data-aos="fade-up">
                همیشه برای <span class="gradient-text">پاسخگویی</span> آماده‌ایم
            </h1>
            
            <!-- Description -->
            <p class="text-lg text-gray-600 leading-relaxed" data-aos="fade-up" data-aos-delay="100">
                در صورتی که سوال، پیشنهاد یا مشکلی در استفاده از سامانه «دکتر کد» دارید، می‌توانید از راه‌های زیر با ما در ارتباط باشید. پیشنهاد می‌کنیم جهت دریافت سریع‌تر پاسخ، از طریق ادمین تلگرام با ما تماس بگیرید.
            </p>
        </div>
    </div>
</section>

<!-- Main Contact Section -->
<section class="py-20">
    <div class="container mx-auto px-4 lg:px-8">
        <div class="grid lg:grid-cols-5 gap-12">
            
            <!-- Right Column - Contact Channels (60% width) -->
            <div class="lg:col-span-3 space-y-6">
                
                <!-- Card 1 - Featured -->
                <div class="bg-gradient-to-br from-c5 to-white p-8 rounded-2xl shadow-lg hover-lift border-2 border-c2/20" data-aos="fade-left">
                    <div class="flex flex-col md:flex-row items-start gap-6">
                        <div class="w-20 h-20 bg-gradient-to-br from-c1 to-c2 rounded-2xl flex items-center justify-center flex-shrink-0">
                            <svg class="w-10 h-10 text-white" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2M8.64,8.56C9.19,8.56 9.64,8.31 9.64,7.86C9.64,7.32 9.2,7 8.64,7C8.08,7 7.64,7.32 7.64,7.86C7.64,8.31 8.09,8.56 8.64,8.56M15.36,8.56C15.91,8.56 16.36,8.31 16.36,7.86C16.36,7.32 15.92,7 15.36,7C14.8,7 14.36,7.32 14.36,7.86C14.36,8.31 14.81,8.56 15.36,8.56M16.92,12.88C16.58,11.28 15.04,10.25 12,10.25C8.96,10.25 7.42,11.28 7.08,12.88C6.93,13.45 7.46,13.91 8.03,13.74C8.41,13.62 8.62,13.19 8.75,12.81C9,12.06 10.14,11.44 12,11.44C13.86,11.44 15,12.06 15.25,12.81C15.38,13.19 15.59,13.62 15.97,13.74C16.54,13.91 17.07,13.45 16.92,12.88Z"/>
                            </svg>
                        </div>
                        <div class="flex-1">
                            <div class="flex items-center gap-2 mb-3">
                                <h3 class="text-xl font-bold text-gray-900">ارتباط مستقیم با پشتیبانی</h3>
                                <span class="bg-c2 text-white text-xs px-3 py-1 rounded-full">پیشنهادی</span>
                            </div>
                            <p class="text-gray-600 mb-4">پاسخگویی از طریق پیام مستقیم در تلگرام — در سریع‌ترین زمان ممکن</p>
                            <a href="https://t.me/Doctor_Code_Admin" target="_blank" 
                               class="inline-flex items-center gap-2 px-6 py-3 bg-c1 hover:bg-c2 text-white rounded-xl font-semibold transition-all duration-300 hover:scale-105">
                                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2M8.64,8.56C9.19,8.56 9.64,8.31 9.64,7.86C9.64,7.32 9.2,7 8.64,7C8.08,7 7.64,7.32 7.64,7.86C7.64,8.31 8.09,8.56 8.64,8.56M15.36,8.56C15.91,8.56 16.36,8.31 16.36,7.86C16.36,7.32 15.92,7 15.36,7C14.8,7 14.36,7.32 14.36,7.86C14.36,8.31 14.81,8.56 15.36,8.56M16.92,12.88C16.58,11.28 15.04,10.25 12,10.25C8.96,10.25 7.42,11.28 7.08,12.88C6.93,13.45 7.46,13.91 8.03,13.74C8.41,13.62 8.62,13.19 8.75,12.81C9,12.06 10.14,11.44 12,11.44C13.86,11.44 15,12.06 15.25,12.81C15.38,13.19 15.59,13.62 15.97,13.74C16.54,13.91 17.07,13.45 16.92,12.88Z"/>
                                </svg>
                                ارسال پیام به @Doctor_Code_Admin
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Card 2 -->
                <div class="bg-white p-8 rounded-2xl shadow-lg hover-lift" data-aos="fade-left" data-aos-delay="100">
                    <div class="flex flex-col md:flex-row items-start gap-6">
                        <div class="w-20 h-20 bg-gradient-to-br from-c2 to-c3 rounded-2xl flex items-center justify-center flex-shrink-0">
                            <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"></path>
                            </svg>
                        </div>
                        <div class="flex-1">
                            <h3 class="text-xl font-bold text-gray-900 mb-3">کانال تلگرام رسمی</h3>
                            <p class="text-gray-600 mb-4">آخرین اخبار، آموزش‌ها و اطلاعیه‌های سامانه را از این کانال دنبال کنید.</p>
                            <a href="https://t.me/DrCode_Med" target="_blank"
                               class="inline-flex items-center gap-2 text-c1 hover:text-c2 font-semibold transition-colors">
                                عضویت در @DrCode_Med
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                                </svg>
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Card 3 -->
                <div class="bg-white p-8 rounded-2xl shadow-lg hover-lift" data-aos="fade-left" data-aos-delay="200">
                    <div class="flex flex-col md:flex-row items-start gap-6">
                        <div class="w-20 h-20 bg-gradient-to-br from-c3 to-c1 rounded-2xl flex items-center justify-center flex-shrink-0">
                            <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                            </svg>
                        </div>
                        <div class="flex-1">
                            <h3 class="text-xl font-bold text-gray-900 mb-3">ایمیل پشتیبانی</h3>
                            <p class="text-gray-600 mb-4">در صورتی که امکان دسترسی به تلگرام ندارید، از این ایمیل استفاده کنید.</p>
                            <a href="mailto:support@drcode-med.ir"
                               class="inline-flex items-center gap-2 text-c1 hover:text-c2 font-semibold transition-colors">
                                ارسال ایمیل به support@drcode-med.ir
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                                </svg>
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Left Column - Contact Form (40% width) -->
            <div class="lg:col-span-2">
                <div class="bg-white p-8 rounded-2xl shadow-xl sticky top-8" data-aos="fade-right">
                    <h2 class="text-2xl font-bold text-gray-900 mb-6">یا پیامتان را اینجا بنویسید</h2>
                    
                    <form @submit.prevent="submitForm" class="space-y-4">
                        <!-- Name -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">نام و نام خانوادگی *</label>
                            <input type="text" 
                                   x-model="formData.full_name" 
                                   required
                                   class="form-input"
                                   placeholder="مثال: علی رضایی">
                        </div>

                        <!-- Email/Phone -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">ایمیل یا تلفن شما *</label>
                            <input type="text" 
                                   x-model="formData.email" 
                                   required
                                   class="form-input"
                                   placeholder="example@email.com یا 09123456789">
                        </div>

                        <!-- Subject -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">موضوع پیام</label>
                            <select x-model="formData.subject" 
                                    class="form-input">
                                <option value="">انتخاب موضوع...</option>
                                <option value="support">پشتیبانی فنی</option>
                                <option value="support">پشتیبانی علمی</option>
                                <option value="support">پرداخت</option>
                                <option value="bug">گزارش خطا</option>
                                <option value="suggestion">پیشنهاد</option>
                                <option value="other">سایر</option>
                            </select>
                        </div>

                        <!-- Custom Subject -->
                        <div x-show="formData.subject === 'other'" x-transition>
                            <label class="block text-sm font-medium text-gray-700 mb-2">موضوع دلخواه</label>
                            <input type="text" 
                                   x-model="formData.custom_subject"
                                   class="form-input"
                                   placeholder="موضوع پیام خود را بنویسید">
                        </div>

                        <!-- Message -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">متن پیام شما *</label>
                            <textarea x-model="formData.message" 
                                      required
                                      rows="5"
                                      class="form-input resize-none"
                                      placeholder="پیام خود را با جزئیات بنویسید..."></textarea>
                        </div>

                        <!-- Submit Button -->
                        <button type="submit"
                                :disabled="isSubmitting"
                                :class="isSubmitting ? 'bg-gray-400' : 'bg-gradient-to-r from-c1 to-c2 hover:from-c2 hover:to-c1'"
                                class="w-full py-4 text-white font-semibold rounded-xl transition-all duration-300 transform hover:scale-105 disabled:scale-100 disabled:cursor-not-allowed">
                            <span x-show="!isSubmitting">ارسال پیام</span>
                            <span x-show="isSubmitting" class="flex items-center justify-center gap-2">
                                <svg class="animate-spin h-5 w-5" fill="none" viewBox="0 0 24 24">
                                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                                </svg>
                                در حال ارسال...
                            </span>
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Other Contact Methods -->
<section class="py-12 bg-gray-100">
    <div class="container mx-auto px-4 lg:px-8">
        <div class="flex flex-wrap items-center justify-center gap-8" data-aos="fade-up">
            <!-- Website -->
            <a href="https://www.DrCode-med.ir" target="_blank"
               class="flex items-center gap-3 px-6 py-3 bg-white rounded-xl shadow hover:shadow-lg transition-all">
                <div class="w-10 h-10 bg-c5 rounded-lg flex items-center justify-center">
                    <svg class="w-5 h-5 text-c1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"></path>
                    </svg>
                </div>
                <span class="font-medium text-gray-800">وب‌سایت رسمی: www.DrCode-med.ir</span>
            </a>

            <!-- Aparat -->
            <a href="#" target="_blank"
               class="flex items-center gap-3 px-6 py-3 bg-white rounded-xl shadow hover:shadow-lg transition-all">
                <div class="w-10 h-10 bg-c5 rounded-lg flex items-center justify-center">
                    <svg class="w-5 h-5 text-c2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"></path>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                </div>
                <span class="font-medium text-gray-800">کانال آپارات: آموزش‌های ویدیویی</span>
            </a>
        </div>
    </div>
</section>

<!-- Closing Statement -->
<section class="py-16 bg-white">
    <div class="container mx-auto px-4 lg:px-8">
        <div class="max-w-4xl mx-auto">
            <blockquote class="relative p-8 bg-gray-50 rounded-2xl" data-aos="fade-up">
                <div class="absolute top-0 right-0 w-1 h-full bg-gradient-to-b from-c1 to-c2 rounded-l"></div>
                <p class="text-lg text-gray-700 leading-relaxed pr-8">
                    تیم «دکتر کد» متعهد به پشتیبانی حرفه‌ای، سریع و پاسخ‌گو به نیازهای کاربران عزیز می‌باشد. ما همراه شما هستیم؛ دقیق، سریع و قابل اعتماد.
                </p>
                <div class="flex items-center gap-2 mt-4 pr-8">
                    <svg class="w-6 h-6 text-c1" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                    </svg>
                    <span class="text-c1 font-semibold">تیم پشتیبانی دکتر کد</span>
                </div>
            </blockquote>
        </div>
    </div>
</section>



</div>


{% endblock content %}

{% block extra_js %}
<!-- قسمت js و حتی ایمپورت کردن فایل هات رو اینجا بزار -->


<script>
    

    // Alpine.js Contact Form Component
    function contactForm() {
        return {
            formData: {
                full_name: '',
                email: '',
                phone: '',
                subject: '',
                custom_subject: '',
                message: ''
            },
            isSubmitting: false,

            async submitForm() {
                // Validate email or phone
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                const phoneRegex = /^(\+98|0)?9\d{9}$/;
                
                if (!emailRegex.test(this.formData.email) && !phoneRegex.test(this.formData.email)) {
                    Swal.fire({
                        icon: 'error',
                        title: 'خطا',
                        text: 'لطفاً ایمیل یا شماره تلفن معتبر وارد کنید',
                        confirmButtonColor: '#0077b6'
                    });
                    return;
                }

                // Set phone if it's a phone number
                if (phoneRegex.test(this.formData.email)) {
                    this.formData.phone = this.formData.email;
                    this.formData.email = '';
                }

                this.isSubmitting = true;

                try {
                    const response = await axios.post('/api/v1/home/contact/', this.formData);
                    
                    // Success message
                    Swal.fire({
                        icon: 'success',
                        title: 'پیام شما ارسال شد',
                        text: 'کارشناسان ما در اسرع وقت با شما تماس خواهند گرفت',
                        confirmButtonColor: '#00a896',
                        timer: 3000,
                        timerProgressBar: true
                    });

                    // Reset form
                    this.formData = {
                        full_name: '',
                        email: '',
                        phone: '',
                        subject: '',
                        custom_subject: '',
                        message: ''
                    };

                } catch (error) {
                    // Error message
                    Swal.fire({
                        icon: 'error',
                        title: 'خطا در ارسال پیام',
                        text: error.response?.data?.message || 'لطفاً دوباره تلاش کنید یا از طریق تلگرام با ما تماس بگیرید',
                        confirmButtonColor: '#0077b6'
                    });
                } finally {
                    this.isSubmitting = false;
                }
            }
        }
    }
</script>

{% endblock extra_js %}
    