<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>جزئیات کاربر - دکتر کد</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Vazirmatn', sans-serif;
        }
        [x-cloak] { display: none !important; }
        .modal-backdrop {
            background-color: rgba(0, 0, 0, 0.5);
        }
        .modal-body {
            max-width: 500px;
        }
    </style>
</head>
<body class="bg-slate-100 text-slate-800">

    <div x-data="{ sidebarOpen: false }" class="flex h-screen bg-slate-100">
        
        <aside :class="sidebarOpen ? 'translate-x-0' : 'translate-x-full'" class="fixed inset-y-0 right-0 z-30 w-64 bg-slate-800 text-white shadow-lg transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0">
            <div class="flex items-center justify-center px-6 py-4 border-b border-slate-700">
                <span class="ml-4 mr-2 text-xl font-bold">دکتر کد</span>
            </div>
            <nav class="mt-6">
                <a href="#" class="flex items-center px-6 py-3 text-slate-300 hover:bg-slate-700">
                    <span class="mx-3">بازگشت به لیست</span>
                </a>
            </nav>
        </aside>

        <div class="flex-1 flex flex-col overflow-hidden">
            <header class="flex items-center justify-between p-4 bg-white border-b lg:hidden">
                 <span class="text-lg font-bold">دکتر کد</span>
                <button @click="sidebarOpen = !sidebarOpen" class="text-slate-500 focus:outline-none">
                    <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" /></svg>
                </button>
            </header>

            <main class="flex-1 overflow-x-hidden overflow-y-auto bg-slate-100 p-4 sm:p-6" x-data="{ 
                userStatus: 'pending', // 'pending', 'verified', 'rejected'
                rejectModalOpen: false, 
                imageViewerOpen: false,
                imageUrl: '' 
            }">
                <div class="container mx-auto">
                    <div class="flex items-center space-x-2 space-x-reverse mb-6">
                        <h1 class="text-2xl font-bold text-slate-700">سارا احمدی</h1>
                        
                        <template x-if="userStatus === 'pending'">
                            <span class="px-3 py-1 text-xs font-semibold text-orange-800 bg-orange-200 rounded-full">در انتظار تایید</span>
                        </template>
                        <template x-if="userStatus === 'verified'">
                            <span class="px-3 py-1 text-xs font-semibold text-green-800 bg-green-200 rounded-full">تایید شده</span>
                        </template>
                         <template x-if="userStatus === 'rejected'">
                            <span class="px-3 py-1 text-xs font-semibold text-red-800 bg-red-200 rounded-full">رد شده</span>
                        </template>
                    </div>

                    <div class="grid grid-cols-1 lg:grid-cols-3 lg:gap-8">
                        
                        <div class="lg:col-span-1 space-y-6">
                            <div class="bg-white p-6 rounded-xl shadow-sm">
                                <h3 class="text-lg font-semibold text-slate-700 mb-4">مدارک ارسالی جهت احراز هویت</h3>
                                <div class="space-y-4">
                                    <p class="text-sm text-slate-600 bg-slate-50 p-3 rounded-lg">
                                       کاربر متنی را به همراه مدارک ارسال کرده است که در این بخش نمایش داده میشود.
                                    </p>
                                    <div class="grid grid-cols-2 gap-3">
                                        <button @click="imageUrl = 'https://picsum.photos/id/10/800/600'; imageViewerOpen = true" class="focus:outline-none">
                                            <img src="https://picsum.photos/id/10/200/150" alt="مدرک ۱" class="rounded-lg w-full h-auto object-cover border-2 border-slate-200 hover:border-blue-400 transition">
                                        </button>
                                        <button @click="imageUrl = 'https://picsum.photos/id/11/800/600'; imageViewerOpen = true" class="focus:outline-none">
                                            <img src="https://picsum.photos/id/11/200/150" alt="مدرک ۲" class="rounded-lg w-full h-auto object-cover border-2 border-slate-200 hover:border-blue-400 transition">
                                        </button>
                                    </div>
                                    <div>
                                        <a href="#" class="inline-flex items-center text-sm text-blue-600 hover:underline">
                                            <span>لینک صفحه نظام پزشکی</span>
                                            <svg class="h-4 w-4 mr-1" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25" /></svg>
                                        </a>
                                    </div>
                                </div>
                            </div>

                            <div class="bg-white p-6 rounded-xl shadow-sm" x-data="{ activeAccordion: '' }">
                                <h3 class="text-lg font-semibold text-slate-700 mb-4">تاریخچه پرسش و پاسخ‌ها</h3>
                                <div class="space-y-2">
                                    <div>
                                        <button @click="activeAccordion = (activeAccordion === 'q1' ? '' : 'q1')" class="w-full flex justify-between items-center text-right p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition">
                                            <span class="font-medium text-sm">سوال در نسخه: درمان سرماخوردگی</span>
                                            <svg class="h-5 w-5 transform transition-transform" :class="{'rotate-180': activeAccordion === 'q1'}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M5.22 8.22a.75.75 0 011.06 0L10 11.94l3.72-3.72a.75.75 0 111.06 1.06l-4.25 4.25a.75.75 0 01-1.06 0L5.22 9.28a.75.75 0 010-1.06z" clip-rule="evenodd" /></svg>
                                        </button>
                                        <div x-show="activeAccordion === 'q1'" x-collapse class="p-3 text-sm text-slate-600">
                                            <p class="font-semibold text-slate-800">سوال کاربر:</p>
                                            <p class="mb-3">در مورد داروی جایگزین برای آزیترومایسین در این نسخه، آیا سفیکسیم انتخاب مناسبی است؟</p>
                                            <p class="font-semibold text-slate-800 border-t pt-2 mt-2">پاسخ ادمین:</p>
                                            <p>بله، سفیکسیم می‌تواند به عنوان جایگزین در نظر گرفته شود، اما دوز مصرف متفاوت خواهد بود. لطفاً به گایدلاین‌های جدید مراجعه کنید.</p>
                                        </div>
                                    </div>
                                    <div>
                                        <button @click="activeAccordion = (activeAccordion === 'q2' ? '' : 'q2')" class="w-full flex justify-between items-center text-right p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition">
                                            <span class="font-medium text-sm">سوال در نسخه: درمان آکنه ولگاریس</span>
                                             <svg class="h-5 w-5 transform transition-transform" :class="{'rotate-180': activeAccordion === 'q2'}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M5.22 8.22a.75.75 0 011.06 0L10 11.94l3.72-3.72a.75.75 0 111.06 1.06l-4.25 4.25a.75.75 0 01-1.06 0L5.22 9.28a.75.75 0 010-1.06z" clip-rule="evenodd" /></svg>
                                        </button>
                                        <div x-show="activeAccordion === 'q2'" x-collapse class="p-3 text-sm text-slate-600">
                                            <p>... محتوای سوال و پاسخ دوم ...</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="lg:col-span-2 space-y-6">
                            <div x-show="userStatus === 'pending'" x-transition class="bg-white p-6 rounded-xl shadow-sm border-2 border-dashed border-orange-300">
                                <h3 class="text-lg font-semibold text-slate-700 mb-4">بررسی و تایید هویت کاربر</h3>
                                <div class="flex flex-col sm:flex-row gap-4">
                                    <button class="w-full py-3 px-5 bg-green-500 text-white font-bold rounded-lg hover:bg-green-600 transition">تایید هویت</button>
                                    <button @click="rejectModalOpen = true" class="w-full py-3 px-5 bg-red-500 text-white font-bold rounded-lg hover:bg-red-600 transition">رد هویت</button>
                                </div>
                            </div>

                            <div class="bg-white p-6 rounded-xl shadow-sm">
                                <h3 class="text-lg font-semibold text-slate-700 mb-4">مشخصات کاربری</h3>
                                <dl class="grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-4 text-sm">
                                    <div class="flex flex-col"><dt class="text-slate-500">نام و نام خانوادگی:</dt><dd class="font-medium mt-1">سارا احمدی</dd></div>
                                    <div class="flex flex-col"><dt class="text-slate-500">شماره تماس (نام کاربری):</dt><dd class="font-medium mt-1">۰۹۱۲۳۴۵۶۷۸۹</dd></div>
                                    <div class="flex flex-col"><dt class="text-slate-500">ایمیل:</dt><dd class="font-medium mt-1">sara.ahmadi@email.com</dd></div>
                                    <div class="flex flex-col"><dt class="text-slate-500">تاریخ ثبت نام:</dt><dd class="font-medium mt-1">۱۴۰۴/۰۶/۱۵</dd></div>
                                    <div class="flex flex-col sm:col-span-2"><dt class="text-slate-500">کد نظام پزشکی / دانشجویی:</dt><dd class="font-medium mt-1 p-2 bg-slate-100 rounded-md text-slate-400 italic">هنوز وارد نشده است</dd></div>
                                </dl>
                            </div>

                            <div class="bg-white p-6 rounded-xl shadow-sm">
                                <h3 class="text-lg font-semibold text-slate-700 mb-4">وضعیت اشتراک</h3>
                                <dl class="grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-4 text-sm mb-6">
                                    <div class="flex flex-col"><dt class="text-slate-500">نوع حساب:</dt><dd class="font-medium mt-1"><span class="px-2.5 py-1 text-xs font-semibold text-green-800 bg-green-100 rounded-full">کاربر ویژه</span></dd></div>
                                    <div class="flex flex-col"><dt class="text-slate-500">وضعیت اشتراک:</dt><dd class="font-medium mt-1 text-green-600">فعال</dd></div>
                                    <div class="flex flex-col sm:col-span-2"><dt class="text-slate-500">روزهای باقی‌مانده:</dt><dd class="font-medium mt-1">۲۵ روز باقی‌مانده است</dd></div>
                                </dl>
                                <div class="border-t pt-4 flex flex-wrap gap-3">
                                    <button class="flex-1 min-w-[150px] py-2 px-4 text-sm font-semibold bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition">مدیریت اشتراک</button>
                                    <button class="flex-1 min-w-[150px] py-2 px-4 text-sm font-semibold bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300 transition">ویرایش مشخصات</button>
                                    <button class="flex-1 min-w-[150px] py-2 px-4 text-sm font-semibold bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition">حذف کاربر</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div x-show="rejectModalOpen" x-cloak @keydown.escape.window="rejectModalOpen = false" class="fixed inset-0 z-50 flex items-center justify-center">
                    <div @click="rejectModalOpen = false" class="absolute inset-0 modal-backdrop"></div>
                    <div x-show="rejectModalOpen" x-transition class="relative bg-white rounded-xl shadow-lg w-full max-w-md m-4">
                        <div class="p-6">
                            <h3 class="text-lg font-bold">لطفاً دلیل رد هویت را بنویسید</h3>
                            <p class="text-sm text-slate-500 mt-1">این پیام برای کاربر ارسال خواهد شد.</p>
                            <textarea rows="4" class="w-full mt-4 p-2 border rounded-lg bg-slate-50 focus:outline-none focus:ring-2 focus:ring-blue-300" placeholder="مثال: تصویر کارت ملی ارسالی خوانا نیست..."></textarea>
                        </div>
                        <div class="px-6 py-4 bg-slate-50 rounded-b-xl flex justify-end space-x-2 space-x-reverse">
                            <button @click="rejectModalOpen = false" class="py-2 px-4 text-sm font-semibold bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300 transition">انصراف</button>
                            <button class="py-2 px-4 text-sm font-semibold bg-red-500 text-white rounded-lg hover:bg-red-600 transition">ارسال دلیل و رد کردن</button>
                        </div>
                    </div>
                </div>

                <div x-show="imageViewerOpen" x-cloak @keydown.escape.window="imageViewerOpen = false" class="fixed inset-0 z-50 flex items-center justify-center p-4">
                    <div @click="imageViewerOpen = false" class="absolute inset-0 modal-backdrop"></div>
                    <div class="relative max-w-4xl max-h-full">
                        <img :src="imageUrl" alt="نمایش مدرک" class="rounded-lg shadow-2xl max-w-full max-h-[90vh]">
                        <button @click="imageViewerOpen = false" class="absolute -top-3 -right-3 bg-white rounded-full p-1.5 text-slate-600 hover:text-red-600 transition">
                             <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg>
                        </button>
                    </div>
                </div>

            </main>
        </div>
    </div>
</body>
</html>